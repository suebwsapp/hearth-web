---
import Layout from "../layouts/Layout.astro";
import { flattenMessages } from "../utils/flattenMessages";
import NotFoundPage from "../components/NotFoundPage";

const enModule = await import("../locales/en.json");
const messages = flattenMessages(enModule.default as Record<string, unknown>);
const lang = "en";
const title = messages["notfound.header"] ?? "Page not found";
const description =
  messages["notfound.description"] ??
  "You just hit a route that doesn't exist. Go back to the homepage.";
---

<Layout title={title} description={description} lang={lang} path="/404/" noindex>
  <NotFoundPage client:load lang={lang} messages={messages} />
</Layout>
